{"version":3,"sources":["img/unknown-guy.svg","service/QueryApi.js","store/types/userTypes.js","store/actions/userActions.js","components/Spinner/Spinner.js","components/LoginCard/LoginForm.js","components/LoginCard/index.js","components/LoginCard/LoginCard.js","pages/LoginPage/index.js","pages/LoginPage/loginPage.js","components/ProductCard/ProductCard.js","components/Wrapp/Wrapp.js","components/Catalog/Catalog.js","img/search.svg","img/filter.svg","store/types/booksTypes.js","store/actions/booksActions.js","components/CatalogControls/index.js","components/CatalogControls/CatalogControls.js","components/IconMessage/index.js","components/IconMessage/IconMessage.js","components/Wrapp/index.js","img/searchNotFound.svg","pages/CatalogPage/CatalogFilterNotFound.js","img/shopping-cart.svg","components/Header/index.js","components/Header/Header.js","pages/CatalogPage/index.js","pages/CatalogPage/CatalogPage.js","components/ProductSingle/ProductDescription.js","components/ProductSingle/PriceCalc.js","store/types/cartTypes.js","components/ProductSingle/ProductSingle.js","store/actions/cartActions.js","components/Spinner/index.js","pages/ProductPage/index.js","pages/ProductPage/ProductPage.js","components/Cart/index.js","components/Cart/Cart.js","store/types/purchaseTypes.js","store/actions/purchaseActions.js","components/Cart/CartPurchase.js","components/Cart/CartEmpty.js","store/types/modalTypes.js","pages/CartPage/index.js","pages/CartPage/CartPage.js","pages/NotFoundPage/index.js","pages/NotFoundPage/NotFoundPage.js","components/Modal/index.js","components/Modal/Modal.js","hooks/useRequestError.js","App.js","reportWebVitals.js","store/reducers/userReducer.js","store/reducers/booksReducer.js","store/reducers/cartReducer.js","store/reducers/purchaseReducer.js","store/reducers/modalReducer.js","store/reducers/index.js","store/index.js","index.js"],"names":["QueryApi","URL","method","path","token","data","a","response","fetch","this","headers","Authorization","body","JSON","stringify","request","ok","json","message","username","query","id","books","instance","AUTH_USER","AUTH_USER_ERROR","CLEAR_USER_ERROR","AUTH_USER_LOADING","CLEAR_USER","getInstance","Spinner","as","data-testid","className","role","aria-hidden","LoginForm","handleSubmitForm","errorText","user","useSelector","state","usernameValue","setUsernameValue","onChangeInputHandler","useCallback","target","value","trim","onSubmit","htmlFor","type","placeholder","onChange","disabled","isLoading","LoginCard","useState","setUsername","setErrorText","dispatch","useDispatch","src","avatar","userImg","alt","e","preventDefault","length","signin","req","payload","localStorage","setItem","LoginPage","history","useEffect","document","title","setTimeout","replace","ProductCard","product","price","cover","author","to","Wrapp","children","classes","Catalog","items","map","item","LOAD_BOOKS","LOAD_BOOKS_ERROR","CLEAR_BOOKS_ERROR","LOAD_BOOKS_LOADING","LOAD_BOOK_BY_ID","LOAD_BOOK_BY_ID_LOADING","CLEAR_BOOK_SINGLE","FILTER_BOOKS","ADD_FILTER_BOOKS_BY_TITLE","ADD_FILTER_BOOKS_BY_PRICE","CLEAR_FILTER_BOOKS","updateCatalog","getState","filterCondition","CatalogControls","filterText","setFilterText","filterSelect","setFilterSelect","filterByText","searchText","toLowerCase","includes","filterByTitle","filterByPrice","filterBooksByPrice","searchIcon","style","width","filterIcon","IconMessage","icon","opacity","CatalogFilterNotFound","searchNotFound","Header","cart","signOut","removeItem","onClick","cartIcon","CatalogPage","parse","getItem","loadBooks","isCatalogLoading","size","center","filteredCatalog","catalog","ProductDescription","description","tags","tag","PriceCalc","totalPrice","count","userCount","setUserCount","setTotalPrice","multiplyPrice","toFixed","countChange","marginTop","min","max","PUSH_PRODUCT_TO_CART","CLEAR_CART","ProductSingle","addProductToCart","pushProductToCart","ProductPage","match","params","loadBookById","single","isSingleLoading","Cart","totalSum","setTotalSum","total","reduce","acc","key","PURCHASE_SENDING","PURCHASE_ERROR","CLEAR_PURCHASE_ERROR","PURCHASE_SUCCESS","CLEAR_PURCHASE","returnBooksIdArr","products","arr","i","push","purchaseCart","productsId","purchase","CartPurchase","isAvialable","sendPurchase","isSending","CartEmpty","OPEN_MODAL","CLOSE_MODAL","CartPage","isSuccess","onClose","NotFoundPage","Modal","error","errorMessage","modalWrapp","useRef","closeModal","clearError","wrapper","current","handlerWrappClick","classList","contains","addEventListener","removeEventListener","ref","useRequestError","isError","setError","setErrorMessage","App","modal","userInStorage","signinFromStorage","basename","process","exact","component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","filterConditions","cond","rootReducer","combineReducers","action","filter","store","createStore","applyMiddleware","thunk","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ce251373.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/unknown-guy.4b684e29.svg\";","export default class QueryApi {\n  URL = 'https://js-band-store-api.glitch.me';\n\n  static instance = null;\n\n  static getInstance() {\n    QueryApi.instance = QueryApi.instance ?? new QueryApi();\n    return QueryApi.instance;\n  }\n\n  async query(method, path, token, data) {\n    let response = null;\n\n    try {\n      const request = await fetch(this.URL + path, {\n        method,\n        headers: {\n          'Content-Type': 'application/json;charset=utf-8',\n          Authorization: token ? `Bearer ${token}` : false,\n        },\n        body: JSON.stringify(data),\n      });\n\n      response = {\n        ok: request.ok,\n        data: await request.json(),\n      };\n    } catch (error) {\n      response = {\n        ok: false,\n        data: { message: 'Network error, please, try again' },\n      };\n    }\n\n    return response;\n  }\n\n  async signin(username) {\n    const request = await this.query('POST', '/signin', false, {\n      username,\n    });\n\n    return request;\n  }\n\n  async loadBooks(token) {\n    const request = await this.query('GET', '/books', token);\n\n    return request;\n  }\n\n  async loadBookById(id, token) {\n    const request = await this.query('GET', `/books/${id}`, token);\n\n    return request;\n  }\n\n  async purchase(data, token) {\n    const request = await this.query('POST', '/purchase', token, {\n      books: data,\n    });\n\n    return request;\n  }\n}\n","export const AUTH_USER = 'AUTH_USER';\nexport const AUTH_USER_ERROR = 'AUTH_USER_ERROR';\nexport const CLEAR_USER_ERROR = 'CLEAR_USER_ERROR';\nexport const AUTH_USER_LOADING = 'AUTH_USER_LOADING';\nexport const CLEAR_USER = 'CLEAR_USER';\n","import QueryApi from '../../service/QueryApi';\nimport { AUTH_USER, AUTH_USER_ERROR, AUTH_USER_LOADING, CLEAR_USER } from '../types/userTypes';\n\nconst query = QueryApi.getInstance();\n\nexport const signin = (username) => async (dispatch) => {\n  dispatch({ type: AUTH_USER_LOADING });\n\n  const req = await query.signin(username);\n\n  dispatch({ type: req.ok ? AUTH_USER : AUTH_USER_ERROR, payload: req.data });\n  if (req.ok) localStorage.setItem('authUser', JSON.stringify(req.data));\n};\n\nexport const signout = () => {\n  localStorage.removeItem('authUser');\n  return { type: CLEAR_USER };\n};\n\nexport const signinFromStorage = () => {\n  const userInStorage = localStorage.getItem('authUser');\n\n  if (!userInStorage) return { type: 'none' };\n\n  return { type: AUTH_USER, payload: JSON.parse(userInStorage) };\n};\n","import React from 'react';\nimport './Spinner.scss';\n\nexport default function Spinner({ as }) {\n  if (as === 'span') {\n    return ( <span data-testid=\"spinner-span\" className=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"/> );\n  }\n  return (\n    <div data-testid=\"spinner-div\" className=\"spinner-border d-block mx-auto mt-5\" role=\"status\">\n      <span className=\"sr-only\">Loading...</span>\n    </div>\n  );\n}\n","import React, { useCallback } from 'react';\nimport { useSelector } from 'react-redux';\nimport Spinner from '../Spinner/Spinner';\n\nexport default function LoginForm({ handleSubmitForm, username, errorText }) {\n  const user = useSelector((state) => state.user);\n  const [usernameValue, setUsernameValue] = username;\n  const onChangeInputHandler = useCallback(({ target }) => {\n    setUsernameValue(target.value.trim());\n  }, [setUsernameValue]);\n\n  return (\n    <form data-testid=\"login-form\" onSubmit={handleSubmitForm}>\n      <div className=\"form-group\">\n        <label htmlFor=\"username-input\" className=\"w-100\"> Name </label>\n        <input id=\"username-input\" data-testid=\"username-input\" type=\"text\" className={`form-control ${errorText ? 'is-invalid' : ''}`} placeholder=\"Dasha...\" value={usernameValue} onChange={onChangeInputHandler}/>\n        <div className=\"invalid-feedback \"> {errorText} </div>\n      </div>\n      <button className=\"btn btn-primary btn-block\" type=\"submit\" disabled={user.isLoading}>\n        {user.isLoading && <Spinner as=\"span\" />} Log in\n      </button>\n    </form>\n  );\n}\n","import LoginCard from './LoginCard';\n\nexport default LoginCard;\n","import React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport userImg from '../../img/unknown-guy.svg';\nimport { signin } from '../../store/actions/userActions';\nimport LoginForm from './LoginForm';\n\nexport default function LoginCard() {\n  const [username, setUsername] = useState('');\n  const [errorText, setErrorText] = useState(null);\n  const dispatch = useDispatch();\n  const user = useSelector((state) => state.user);\n\n  const handleSubmitForm = (e) => {\n    e.preventDefault();\n\n    if (username.length < 4 || username.length > 16) {\n      setErrorText('Username is not valid');\n      return;\n    }\n\n    setErrorText(null);\n    dispatch(signin(username));\n  };\n\n  return (\n    <div data-testid=\"Login\" className=\"card login-card\">\n      <div className=\"card-header\">Login</div>\n      <img className=\"card-img-top px-5 pt-4\" src={user?.avatar ?? userImg} alt=\"avatar\"/>\n      {user.token === null && (\n        <div className=\"card-body\">\n          <LoginForm handleSubmitForm={handleSubmitForm} username={[username, setUsername]} errorText={errorText}/>\n        </div>\n      )}\n      {user.token !== null && (\n        <div className=\"card-body text-center\">\n          <h3> Welcome, {' '} {user.username} </h3>\n          <h6 className=\"text-muted\">Redirecting...</h6>\n        </div>\n      )}\n    </div>\n  );\n}\n","import LoginPage from './loginPage';\n\nexport default LoginPage;\n","import React, { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport LoginCard from '../../components/LoginCard';\n\nexport default function LoginPage({ history }) {\n  const user = useSelector((state) => state.user);\n\n  useEffect(() => {\n    document.title = 'Login';\n\n    if (user.token !== null) {\n      setTimeout(() => {\n        history.replace('/catalog');\n      }, 2000);\n    }\n  }, [user.token, history]);\n\n  return (\n    <div className=\"container full-height\">\n      <div className=\"row justify-content-center h-100\">\n        <div className=\"col-sm-6 col-xl-4\">\n          <div className=\"d-flex flex-column justify-content-center h-100\">\n            <LoginCard />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport './ProductCard.scss';\n\nexport default function ProductCard({ product }) {\n  const { id, title, price, cover, author } = product;\n\n  return (\n    <div className=\"card mb-4 product\">\n      <img className=\"card-img-top product-img\" data-testid=\"cover\" src={cover} alt={title} />\n      <div className=\"card-body\">\n        <h5 className=\"card-title\" data-testid=\"title\">{title}</h5>\n        <h6 className=\"card-subtitle mb-2 text-muted\" data-testid=\"author\">{author}</h6>\n        <div className=\"row\">\n          <div className=\"col-lg-5\">\n            <span className=\"price\" data-testid=\"price\">{price}</span>\n          </div>\n          <div className=\"col-lg-7\">\n            <Link data-testid=\"link\" to={`/catalog/${id}`} className=\"bttn primary\"> View </Link>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\n\nexport default function Wrapp({ children, className }) {\n  const classes = className ?? '';\n  return (\n    <div className=\"container\">\n      <div className={`row ${classes}`}>{children}</div>\n    </div>\n  );\n}\n","import React from 'react';\nimport ProductCard from '../ProductCard/ProductCard';\nimport Wrapp from '../Wrapp/Wrapp';\n\nexport default function Catalog({ items }) {\n  return (\n    <Wrapp> {items.map((item) => (\n        <div data-testid=\"Catalog-item\" className=\"col-sm-6 col-md-4 col-lg-3\" key={item.id}>\n          <ProductCard product={item} />\n        </div>\n      ))}\n    </Wrapp>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/search.8f973b11.svg\";","export default __webpack_public_path__ + \"static/media/filter.10b90230.svg\";","export const LOAD_BOOKS = 'LOAD_BOOKS';\nexport const LOAD_BOOKS_ERROR = 'LOAD_BOOKS_ERROR';\nexport const CLEAR_BOOKS_ERROR = 'CLEAR_BOOKS_ERROR';\nexport const LOAD_BOOKS_LOADING = 'LOAD_BOOKS_LOADING';\nexport const LOAD_BOOK_BY_ID = 'LOAD_BOOK_BY_ID';\nexport const LOAD_BOOK_BY_ID_LOADING = 'LOAD_BOOK_BY_ID_LOADING';\nexport const CLEAR_BOOK_SINGLE = 'CLEAR_BOOK_SINGLE';\n\nexport const FILTER_BOOKS = 'FILTER_BOOKS';\nexport const ADD_FILTER_BOOKS_BY_TITLE = 'ADD_FILTER_BOOKS_BY_TITLE';\nexport const ADD_FILTER_BOOKS_BY_PRICE = 'ADD_FILTER_BOOKS_BY_PRICE';\nexport const CLEAR_FILTER_BOOKS = 'CLEAR_FILTER_BOOKS';\n","import QueryApi from '../../service/QueryApi';\nimport {\n  LOAD_BOOKS,\n  LOAD_BOOKS_LOADING,\n  LOAD_BOOKS_ERROR,\n  LOAD_BOOK_BY_ID,\n  LOAD_BOOK_BY_ID_LOADING,\n  CLEAR_BOOK_SINGLE,\n  FILTER_BOOKS,\n  CLEAR_FILTER_BOOKS,\n  ADD_FILTER_BOOKS_BY_PRICE,\n  ADD_FILTER_BOOKS_BY_TITLE,\n} from '../types/booksTypes';\n\nconst query = QueryApi.getInstance();\n\n\nexport const loadBooks = () => async (dispatch) => {\n  dispatch({ type: LOAD_BOOKS_LOADING });\n\n  const token = JSON.parse(localStorage.getItem('authUser'));\n  const req = await query.loadBooks(token);\n  dispatch({ type: req.ok ? LOAD_BOOKS : LOAD_BOOKS_ERROR, payload: req.data });\n};\n\nexport const loadBookById = (id) => async (dispatch) => {\n  dispatch({ type: LOAD_BOOK_BY_ID_LOADING });\n\n  const { token } = JSON.parse(localStorage.getItem('authUser'));\n  const req = await query.loadBookById(id, token);\n  dispatch({ type: req.ok ? LOAD_BOOK_BY_ID : LOAD_BOOKS_ERROR,  payload: req.data});\n};\n\nexport const clearBookSingle = () => ({ type: CLEAR_BOOK_SINGLE });\n\nconst updateCatalog = (getState) => {\n  const { filterCondition } = getState().books;\n  let type = FILTER_BOOKS;\n\n  try {\n    if (filterCondition.title() && filterCondition.price()) { type = CLEAR_FILTER_BOOKS; }\n  }\n  catch (e) { type = FILTER_BOOKS; }\n\n  return { type };\n};\n\nexport const filterBooksByPrice = (value) => (dispatch, getState) => {\n  let payload;\n  const type = ADD_FILTER_BOOKS_BY_PRICE;\n\n  if (value === 'to_25') { payload = (price) => price < 25; }\n  else if (value === 'between') { payload = (price) => price > 25 && price < 50; }\n  else if (value === 'higher_50') { payload = (price) => price > 50; }\n  else { payload = () => true; }\n\n  dispatch({ type, payload });\n  dispatch(updateCatalog(getState));\n};\n\nexport const filterByTitle = (value) => (dispatch, getState) => {\n  const searchText = value.trim().toLowerCase();\n  let payload;\n\n  if (value) { payload = (title) => title.toLowerCase().includes(searchText); }\n  else { payload = () => true; }\n\n  dispatch({ type: ADD_FILTER_BOOKS_BY_TITLE, payload });\n  dispatch(updateCatalog(getState));\n};\n","import CatalogControls from './CatalogControls';\n\nexport default CatalogControls;\n","import React, { useCallback, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport searchIcon from '../../img/search.svg';\nimport filterIcon from '../../img/filter.svg';\nimport Wrapp from '../Wrapp/Wrapp';\nimport { filterBooksByPrice, filterByTitle } from '../../store/actions/booksActions';\n\nexport default function CatalogControls() {\n  const [filterText, setFilterText] = useState('');\n  const [filterSelect, setFilterSelect] = useState('default');\n  const dispatch = useDispatch();\n\n  const filterByText = useCallback(({ target }) => {\n    const { value } = target;\n    setFilterText(value);\n    dispatch(filterByTitle(value));\n  }, [setFilterText, dispatch]);\n\n  const filterByPrice = useCallback(({ target }) => {\n    const { value } = target;\n    setFilterSelect(value);\n    dispatch(filterBooksByPrice(value));\n  }, [setFilterSelect, dispatch]);\n\n  return (\n    <Wrapp>\n      <div className=\"col-md-6 col-lg-3\">\n        <div className=\"input-group mb-4\">\n          <div className=\"input-group-prepend\">\n            <div className=\"input-group-text\">\n              <img src={searchIcon} style={{ width: 15 }} alt=\"icon\" />\n            </div>\n          </div>\n          <input data-testid=\"search-book\" className=\"form-control\" placeholder=\"Find a book...\" value={filterText} onChange={filterByText}/>\n        </div>\n      </div>\n      <div className=\"col-md-6 col-lg-3\">\n        <div className=\"input-group mb-4\">\n          <div className=\"input-group-prepend\">\n            <div className=\"input-group-text\">\n              <img src={filterIcon} style={{ width: 15 }} alt=\"icon\" />\n            </div>\n          </div>\n          <select data-testid=\"filter-price\" className=\"custom-select\" value={filterSelect} onChange={filterByPrice}>\n            <option value=\"default\">Price...</option>\n            <option value=\"to_25\">&lt; 25</option>\n            <option value=\"between\">25 &lt; price &lt; 50</option>\n            <option value=\"higher_50\">&gt; 50</option>\n          </select>\n        </div>\n      </div>\n    </Wrapp>\n  );\n}\n","import IconMessage from './IconMessage';\n\nexport default IconMessage;\n","import React from 'react';\n\nexport default function IconMessage({ icon, message }) {\n  return (\n    <div className=\"col text-center text-muted\">\n      <img src={icon} className=\"w-25 p-5 mt-5\" alt={message} style={{ opacity: 0.2 }} />\n      <h3>{message}</h3>\n    </div>\n  );\n}\n","import Wrapp from './Wrapp';\nexport default Wrapp;\n","export default __webpack_public_path__ + \"static/media/searchNotFound.d4b3b794.svg\";","import React from 'react';\nimport IconMessage from '../../components/IconMessage';\nimport Wrapp from '../../components/Wrapp';\nimport searchNotFound from '../../img/searchNotFound.svg';\n\nexport default function CatalogFilterNotFound() {\n  return (\n    <Wrapp>\n      <IconMessage icon={searchNotFound} message=\"No books found...\"/>\n    </Wrapp>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/shopping-cart.c4b03591.svg\";","import Header from './Header';\n\nexport default Header;\n","import React, { useCallback } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport cartIcon from '../../img/shopping-cart.svg';\nimport { signout } from '../../store/actions/userActions';\nimport Wrapp from '../Wrapp/Wrapp';\nimport './Header.scss';\n\nexport default function Header() {\n  const user = useSelector((state) => state.user);\n  const cart = useSelector((state) => state.cart);\n  const dispatch = useDispatch();\n\n  const signOut = useCallback(() => {\n    dispatch(signout());\n  }, [dispatch]);\n\n  return (\n    <header className=\"mb-5\">\n      <div className=\"bg-dark text-light\">\n        <Wrapp className=\"py-2 justify-content-end\">\n          <div className=\"col-5 col-xs-8 col-md-2 text-right pr-0\">\n            <span data-testid=\"username\" className=\"d-inline-block\" >\n              {user.username}\n              <img data-testid=\"avatar\" src={user.avatar} className=\"rounded\" alt=\"avatar\"/>\n            </span>\n          </div>\n          <div className=\"col-5 col-xs-4 col-md-2\">\n            <button data-testid=\"sign-out-button\" className=\"bttn secondary solid btn-sm\" type=\"button\" onClick={signOut}>\n              Sign Out\n            </button>\n          </div>\n        </Wrapp>\n      </div>\n      <div className=\"border-bottom bg-light\">\n        <Wrapp className=\"py-5\">\n          <div className=\"col-7 col-md-10\">\n            <h2 className=\"header-title\">\n              <Link to=\"/catalog\">JS Book Store</Link>\n            </h2>\n          </div>\n          <div className=\"col-5 col-md-2\">\n            <div className=\"d-flex flex-column justify-content-center h-100\">\n              <Link data-testid=\"cart-button\" to=\"/cart\" className=\"bttn light\">\n                <img className=\"bttn-img\" src={cartIcon} alt=\"cart\" />\n                Cart {' '}\n                <b> ( {cart.length} ) </b>\n              </Link>\n            </div>\n          </div>\n        </Wrapp>\n      </div>\n    </header>\n  );\n}\n","import CatalogPage from './CatalogPage';\n\nexport default CatalogPage;\n","import React, { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Catalog from '../../components/Catalog/Catalog';\nimport CatalogControls from '../../components/CatalogControls';\nimport CatalogFilterNotFound from './CatalogFilterNotFound';\nimport Header from '../../components/Header';\nimport Spinner from '../../components/Spinner/Spinner';\nimport { loadBooks } from '../../store/actions/booksActions';\nimport { CLEAR_FILTER_BOOKS } from '../../store/types/booksTypes';\n\nexport default function CatalogPage() {\n  const books = useSelector((state) => state.books);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    document.title = 'Catalog';\n    dispatch(loadBooks());\n\n    return () => {\n      dispatch({\n        type: CLEAR_FILTER_BOOKS,\n      });\n    };\n  }, [dispatch]);\n\n  return (\n    <>\n      <Header />\n      <CatalogControls />\n      {books.isCatalogLoading && <Spinner size=\"lg\" center />}\n      {!books.isCatalogLoading && <Catalog items={books.filteredCatalog ?? books.catalog} />}\n      {books.filteredCatalog && books.filteredCatalog.length === 0 && <CatalogFilterNotFound />}\n    </>\n  );\n}\n","import React from 'react';\nimport './ProductDescription.scss';\n\nexport default function ProductDescription({ product }) {\n  const {title, author, cover, description, tags } = product;\n\n  return (\n    <div className=\"card product-desc mb-4\">\n      <div className=\"row flex-column-reverse  flex-sm-row\">\n        <div className=\"col\">\n          <img data-testid=\"prod-cover\" src={cover} className=\"product-desc-img w-100\" alt=\"a\" />\n          <p data-testid=\"prod-desc\" className=\"p-4\">{description}</p>\n        </div>\n        <div className=\"col\">\n          <div className=\"pt-4 pr-4 pl-4 pl-sm-0\">\n            <h3 data-testid=\"prod-title\">{title}</h3>\n            <span data-testid=\"prod-author\" className=\"text-muted h6\">{author}</span>\n            <p className=\"tags\"> {tags.map((tag) => <span key={tag} className=\"badge badge-secondary\">{tag}</span>)} </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useCallback } from 'react';\n\nexport default function PriceCalc({ price, totalPrice, count, userCount, setUserCount, setTotalPrice }) {\n  const multiplyPrice = useCallback((value) => +(value * price).toFixed(2), [price]);\n\n  const countChange = useCallback(({ target }) => {\n    const value = +target.value;\n    if (value <= count || value > 0) {\n      setTotalPrice(multiplyPrice(value));\n      setUserCount(value);\n    }\n  }, [count, multiplyPrice, setUserCount, setTotalPrice]);\n\n  return (\n    <div className=\"card p-4\">\n      <div className=\"row\">\n        <div className=\"col\">\n          <p>Price, $</p>\n        </div>\n        <div className=\"col-md-4 col-xl-3 col-5 text-right\">\n          <p>{price}</p>\n        </div>\n      </div>\n      <div className=\"row\">\n        <div className=\"col\">\n          <p>Count</p>\n        </div>\n        <div className=\"col-md-4 col-xl-3 col-5 text-right\">\n          <div className=\"input-group\" style={{ marginTop: '-3px' }}>\n            <input data-testid=\"price-counter\" className=\"form-control form-control-sm\" type=\"number\" min=\"1\" max={count} value={userCount} onChange={countChange}/>\n          </div>\n        </div>\n      </div>\n      <div className=\"row font-weight-bold\">\n        <div className=\"col\">\n          <p>Total Price, $</p>\n        </div>\n        <div className=\"col-md-4 col-xl-3 col-5 text-right\">\n          <p data-testid=\"total-price\">{totalPrice}</p>\n        </div>\n      </div>\n    </div>\n  );\n}\n","export const PUSH_PRODUCT_TO_CART = 'PUSH_PRODUCT_TO_CART';\nexport const CLEAR_CART = 'CLEAR_CART';\n","import React, { useState, useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport ProductDescription from './ProductDescription';\nimport PriceCalc from './PriceCalc';\nimport Wrapp from '../Wrapp/Wrapp';\nimport { pushProductToCart } from '../../store/actions/cartActions';\n\nexport default function ProductSingle({ product }) {\n  const [userCount, setUserCount] = useState(1);\n  const [totalPrice, setTotalPrice] = useState(product.price);\n  const dispatch = useDispatch();\n\n  const addProductToCart = useCallback(() => {\n    const { id, title, price } = product;\n    dispatch(pushProductToCart({ id, title, userCount, price, totalPrice }));\n  },\n  [dispatch, product, userCount, totalPrice]);\n\n  return (\n    <Wrapp>\n      <div className=\"col-md-8\">\n        <ProductDescription product={product} />\n      </div>\n      <div className=\"col-md-4 mb-5\">\n        <PriceCalc price={product.price} totalPrice={totalPrice} count={product.count} userCount={userCount} setUserCount={setUserCount} setTotalPrice={setTotalPrice}/>\n        <div className=\"pt-4 text-right\">\n          <button data-testid=\"push-to-cart-button\" className=\"btn btn-success\" type=\"button\" onClick={addProductToCart} disabled={userCount < 1 || userCount > product.count}>\n            Add to cart\n          </button>\n        </div>\n      </div>\n    </Wrapp>\n  );\n}\n","import { PUSH_PRODUCT_TO_CART } from '../types/cartTypes';\n\nexport const pushProductToCart = (product) => ({ type: PUSH_PRODUCT_TO_CART, payload: product });\n\nexport const a = 1;\n","import Spinner from './Spinner';\nexport default Spinner;\n","import ProductPage from './ProductPage';\n\nexport default ProductPage;\n","import React, { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Header from '../../components/Header';\nimport ProductSingle from '../../components/ProductSingle/ProductSingle';\nimport { clearBookSingle, loadBookById } from '../../store/actions/booksActions';\nimport Spinner from '../../components/Spinner';\n\nexport default function ProductPage({ match }) {\n  const books = useSelector((state) => state.books);\n  const dispatch = useDispatch();\n  const { id } = match.params;\n\n  useEffect(() => {\n    dispatch(loadBookById(id));\n    return () => dispatch(clearBookSingle());\n  }, [id, dispatch]);\n\n  useEffect(() => {\n    if (books.single) {\n      document.title = books.single.title;\n    }\n  }, [books.single]);\n\n  return (\n    <>\n      <Header />\n      {books.isSingleLoading && <Spinner size=\"lg\" center />}\n      {!books.isSingleLoading && books.single && <ProductSingle product={books.single} />}\n    </>\n  );\n}\n","import Cart from './Cart';\n\nexport default Cart;\n","import React, { useEffect, useState } from 'react';\nimport Wrapp from '../Wrapp/Wrapp';\n\nexport default function Cart({ items }) {\n  const [totalSum, setTotalSum] = useState(0);\n\n  useEffect(() => {\n    const total = items.reduce((acc, { totalPrice }) => acc + totalPrice, 0);\n    setTotalSum(total.toFixed(2));\n  }, [items]);\n\n  return (\n    <Wrapp>\n      <div className=\"col\">\n        <div className=\"card p-4 table-responsive\">\n          <table className=\"table\">\n            <thead>\n              <tr>\n                <th className=\"w-75 border-top-0\">Name</th>\n                <th className=\"border-top-0 text-right\">Count</th>\n                <th className=\"border-top-0 text-right\">Price</th>\n                <th className=\"text-right border-top-0\">Total</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map(({ key, title, userCount, price, totalPrice, }) => (\n                <tr key={key} data-testid=\"cart-item\">\n                  <td>{title}</td>\n                  <td className=\"text-right\">{userCount}</td>\n                  <td className=\"text-right\">{price}</td>\n                  <td className=\"text-right\">{totalPrice}</td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n        <div className=\"row mt-4 justify-content-end\">\n          <div className=\"col-md-2 col-sm-4 text-right\">\n            <b> Total Price: {' '} {totalSum} $ </b>\n          </div>\n        </div>\n      </div>\n    </Wrapp>\n  );\n}\n","export const PURCHASE_SENDING = 'PURCHASE_SENDING';\nexport const PURCHASE_ERROR = 'PURCHASE_ERROR';\nexport const CLEAR_PURCHASE_ERROR = 'CLEAR_PURCHASE_ERROR';\nexport const PURCHASE_SUCCESS = 'PURCHASE_SUCCESS';\nexport const CLEAR_PURCHASE = 'CLEAR_PURCHASE';\n","import QueryApi from '../../service/QueryApi';\nimport { PURCHASE_ERROR, PURCHASE_SENDING, PURCHASE_SUCCESS } from '../types/purchaseTypes';\n\nconst query = QueryApi.getInstance();\n\nconst returnBooksIdArr = (products) => products.reduce((arr, { id, userCount }) => {\n  for (let i = 0; i < userCount; i += 1) arr.push(id);\n  return arr;\n}, []);\n\nconst purchaseCart = (products) => async (dispatch) => {\n  const productsId = returnBooksIdArr(products);\n\n  dispatch({ type: PURCHASE_SENDING });\n\n  const { token } = JSON.parse(localStorage.getItem('authUser'));\n  const req = await query.purchase(productsId, token);\n\n  dispatch({ type: req.ok ? PURCHASE_SUCCESS : PURCHASE_ERROR, payload: req?.data ?? { message: 'Network error' } });\n};\n\nexport default purchaseCart;\n","import React, { useCallback } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport purchaseCart from '../../store/actions/purchaseActions';\nimport Wrapp from '../Wrapp/Wrapp';\nimport Spinner from '../Spinner';\n\nexport default function CartPurchase({ isAvialable }) {\n  const cart = useSelector((state) => state.cart);\n  const purchase = useSelector((state) => state.purchase);\n  const dispatch = useDispatch();\n\n  const sendPurchase = useCallback(() => {\n    dispatch(purchaseCart(cart));\n  }, [dispatch, cart]);\n\n  return (\n    <Wrapp>\n      <div className=\"col\">\n        <div className=\"row mb-4 justify-content-end\">\n          <div className=\"col-md-2 col-sm-4\">\n            <button data-testid=\"purchase-button\" className=\"bttn primary solid\" type=\"button\" onClick={sendPurchase} disabled={!isAvialable}>\n              {purchase.isSending && <Spinner as=\"span\" />}\n              Purchase\n            </button>\n          </div>\n        </div>\n      </div>\n    </Wrapp>\n  );\n}\n","import React from 'react';\nimport Wrapp from '../Wrapp/Wrapp';\nimport cartIcon from '../../img/shopping-cart.svg';\nimport IconMessage from '../IconMessage';\n\nexport default function CartEmpty() {\n  return (\n    <Wrapp>\n      <IconMessage icon={cartIcon} message=\"Cart empty...\" />\n    </Wrapp>\n  );\n}\n","export const OPEN_MODAL = 'OPEN_MODAL';\nexport const CLOSE_MODAL = 'CLOSE_MODAL';\n","import CartPage from './CartPage';\nexport default CartPage;\n","import React, { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Header from '../../components/Header';\nimport Cart from '../../components/Cart';\nimport CartPurchase from '../../components/Cart/CartPurchase';\nimport CartEmpty from '../../components/Cart/CartEmpty';\nimport { OPEN_MODAL } from '../../store/types/modalTypes';\nimport { CLEAR_PURCHASE } from '../../store/types/purchaseTypes';\nimport { CLEAR_CART } from '../../store/types/cartTypes';\n\nexport default function CartPage() {\n  const cart = useSelector((state) => state.cart);\n  const purchase = useSelector((state) => state.purchase);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    document.title = `Cart (${cart.length})`;\n  }, [cart.length]);\n\n  useEffect(() => {\n    if (purchase.isSuccess) {\n      dispatch({\n        type: OPEN_MODAL,\n        payload: {\n          title: 'You successfully placed an order',\n          message: <Cart items={[...cart]} />,\n          onClose: () => {\n            dispatch({ type: CLEAR_PURCHASE });\n            dispatch({ type: CLEAR_CART });\n          },\n        },\n      });\n    }\n  }, [purchase.isSuccess, dispatch, cart]);\n\n  return (\n    <>\n      <Header />\n      <CartPurchase isAvialable={cart.length > 0} />\n      {cart.length === 0 && <CartEmpty />}\n      {cart.length > 0 && <Cart items={cart} />}\n    </>\n  );\n}\n","import NotFoundPage from './NotFoundPage';\n\nexport default NotFoundPage;\n","import React, { useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport Wrapp from '../../components/Wrapp/Wrapp';\n\nexport default function NotFoundPage() {\n  useEffect(() => {\n    document.title = '404 • Page not found';\n  }, []);\n\n  return (\n    <Wrapp>\n      <div className=\"col text-center mt-5 pt-5\">\n        <img alt=\"page not found\" src=\"https://media.giphy.com/media/tvGOBZKNEX0ac/giphy-downsized-large.gif\" className=\"w-100 mb-3 rounded\"/>\n        <h1>Sorry, page not found</h1>\n        <div>\n          <Link className=\"btn btn-primary mt-3\" to=\"/\">Return to main page</Link>\n        </div>\n      </div>\n    </Wrapp>\n  );\n}\n","import Modal from './Modal';\n\nexport default Modal;\n","import React, { useCallback, useEffect, useRef } from 'react';\nimport { useDispatch } from 'react-redux';\nimport './Modal.scss';\nimport { CLOSE_MODAL } from '../../store/types/modalTypes';\n\nexport default function Modal({ data, error }) {\n  const { title, message, onClose } = error ? data.errorMessage : data;\n  const modalWrapp = useRef(null);\n  const dispatch = useDispatch();\n\n  const closeModal = useCallback(() => {\n    if (error) data.clearError();\n    else dispatch({ type: CLOSE_MODAL });\n    if (onClose) onClose();\n  }, [dispatch, onClose, data, error]);\n\n  useEffect(() => {\n    const wrapper = modalWrapp.current;\n    const handlerWrappClick = ({ target }) => {\n      if (target.classList.contains('modal-click')) closeModal();\n    };\n\n    wrapper.addEventListener('click', handlerWrappClick);\n\n    return () => wrapper.removeEventListener('click', handlerWrappClick);\n  }, [dispatch, closeModal]);\n\n  return (\n    <div className=\"modal-card-wrapp container-fluid\" ref={modalWrapp}>\n      <div data-testid=\"modal-wrapper\" className=\"row modal-click justify-content-center align-items-center h-100\">\n        <div className=\"col-xl-7 col-md-9\">\n          <div data-testid=\"modal-error\" className={`card modal-card ${error ? 'modal-card-error' : ''}`}>\n            <div className=\"card-header pt-3\">\n              <h5 data-testid=\"modal-title\">{title}</h5>\n            </div>\n            <div className=\"card-body\" data-testid=\"modal-message\"> {message} </div>\n            <div className=\"card-footer\">\n              <div className=\"row justify-content-end\">\n                <div className=\"col-md-3 col-xl-2\">\n                  <button data-testid=\"close-modal-button\" className=\"bttn primary btn-close\" type=\"button\" onClick={closeModal}>\n                    Close\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { useState, useEffect, useCallback } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { CLEAR_BOOKS_ERROR } from '../store/types/booksTypes';\nimport { CLEAR_PURCHASE_ERROR } from '../store/types/purchaseTypes';\nimport { CLEAR_USER_ERROR } from '../store/types/userTypes';\n\nconst useRequestError = () => {\n  const [isError, setError] = useState(false);\n  const [errorMessage, setErrorMessage] = useState({});\n  const user = useSelector((state) => state.user);\n  const books = useSelector((state) => state.books);\n  const purchase = useSelector((state) => state.purchase);\n  const dispatch = useDispatch();\n\n  const clearError = useCallback(() => {\n    dispatch({ type: CLEAR_BOOKS_ERROR });\n    dispatch({ type: CLEAR_USER_ERROR });\n    dispatch({ type: CLEAR_PURCHASE_ERROR });\n  }, [dispatch]);\n\n  useEffect(() => {\n    let message = null;\n\n    if (user.error) {\n      message = {\n        title: 'Authorization Error',\n        message: user.error.message,\n      };\n    } else if (books.error) {\n      message = {\n        title: 'Books Loading Error',\n        message: books.error.message,\n      };\n    } else if (purchase.error) {\n      message = {\n        title: 'Purchase Error',\n        message: purchase.error.message,\n      };\n    }\n\n    setError(!!message);\n    setErrorMessage(message);\n  }, [user.error, books.error, purchase.error]);\n\n  return { isError, errorMessage, clearError };\n};\n\nexport default useRequestError;\n","import React, { useEffect } from 'react';\nimport { BrowserRouter as Router, Redirect, Route, Switch } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport LoginPage from './pages/LoginPage';\nimport CatalogPage from './pages/CatalogPage';\nimport ProductPage from './pages/ProductPage';\nimport CartPage from './pages/CartPage';\nimport NotFoundPage from './pages/NotFoundPage';\nimport { signinFromStorage } from './store/actions/userActions';\nimport Modal from './components/Modal';\nimport useRequestError from './hooks/useRequestError';\n\nexport default function App() {\n  const user = useSelector((state) => state.user);\n  const modal = useSelector((state) => state.modal);\n  const error = useRequestError();\n  const dispatch = useDispatch();\n\n  useEffect(() => { dispatch(signinFromStorage()); }, [user.token, dispatch]);\n\n  if (user.token || localStorage.getItem('authUser')) {\n    return (\n      <>\n        {error.isError && <Modal error data={error} />}\n        {modal.message && <Modal data={modal} />}\n        <Router basename={process.env.PUBLIC_URL}>\n          <Switch>\n            <Route exact path=\"/\">\n              <Redirect to=\"/catalog\" />\n            </Route>\n            <Route exact path=\"/login\" component={LoginPage} />\n            <Route exact path=\"/catalog\" component={CatalogPage} />\n            <Route exact path=\"/cart\" component={CartPage} />\n            <Route path=\"/catalog/:id\" component={ProductPage} />\n            <Route exact path=\"/not-found\" component={NotFoundPage} />\n            <Route path=\"*\">\n              <Redirect to=\"/no-found\" />\n            </Route>\n          </Switch>\n        </Router>\n      </>\n    );\n  }\n\n  return (\n    <>\n      {error.isError && <Modal error data={error} />}\n      {modal.message && <Modal message={modal.message} />}\n      <Router basename={process.env.PUBLIC_URL}>\n        <Switch>\n          <Route exact path=\"/login\" component={LoginPage} />\n          <Route exact path=\"/not-found\" component={NotFoundPage} />\n          <Route path=\"*\">\n            <Redirect to=\"/login\" />\n          </Route>\n        </Switch>\n      </Router>\n    </>\n  );\n}\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { AUTH_USER, AUTH_USER_ERROR, CLEAR_USER_ERROR, AUTH_USER_LOADING, CLEAR_USER } from '../types/userTypes';\n\nconst initialState = {\n  username: null,\n  token: null,\n  avatar: null,\n  isLoading: false,\n  error: null,\n};\n\nexport default function userReducer(state = initialState, action) {\n  switch (action.type) {\n    case AUTH_USER:\n      return { isLoading: false, error: null, ...action.payload };\n    case AUTH_USER_ERROR:\n      return { ...state, isLoading: false, error: action.payload };\n    case CLEAR_USER_ERROR:\n      return { ...state, error: null };\n    case AUTH_USER_LOADING:\n      return { ...state, isLoading: true };\n    case CLEAR_USER:\n      return { ...initialState };\n    default:\n      return state;\n  }\n}\n","import {\n  LOAD_BOOKS,\n  LOAD_BOOKS_LOADING,\n  LOAD_BOOKS_ERROR,\n  CLEAR_BOOKS_ERROR,\n  LOAD_BOOK_BY_ID,\n  LOAD_BOOK_BY_ID_LOADING,\n  CLEAR_BOOK_SINGLE,\n  FILTER_BOOKS,\n  CLEAR_FILTER_BOOKS,\n  ADD_FILTER_BOOKS_BY_PRICE,\n  ADD_FILTER_BOOKS_BY_TITLE,\n} from '../types/booksTypes';\n\nconst initialState = {\n  catalog: [],\n  filterCondition: { title: () => true, price: () => true },\n  filteredCatalog: null,\n  single: null,\n  isCatalogLoading: false,\n  isSingleLoading: false,\n  error: null,\n};\n\nconst filterConditions = (cond) => ({ title, price }) => cond.title(title) && cond.price(price);\n\nexport default function userReducer(state = initialState, action) {\n  switch (action.type) {\n    case LOAD_BOOKS:\n      return { ...state, catalog: action.payload, isCatalogLoading: false };\n    case LOAD_BOOKS_LOADING:\n      return {...state, isCatalogLoading: true };\n    case LOAD_BOOK_BY_ID:\n      return { ...state, single: action.payload, isSingleLoading: false };\n    case LOAD_BOOK_BY_ID_LOADING:\n      return { ...state, isSingleLoading: true };\n    case LOAD_BOOKS_ERROR:\n      return { ...state, error: action.payload };\n    case CLEAR_BOOKS_ERROR:\n      return { ...state, error: null };\n    case CLEAR_BOOK_SINGLE:\n      return { ...state, single: null };\n    case ADD_FILTER_BOOKS_BY_PRICE:\n      return { ...state, filterCondition: { ...state.filterCondition, price: action.payload } };\n    case ADD_FILTER_BOOKS_BY_TITLE:\n      return { ...state, filterCondition: { ...state.filterCondition, title: action.payload } };\n    case FILTER_BOOKS:\n      return { ...state, filteredCatalog: state.catalog.filter(filterConditions(state.filterCondition)) };\n    case CLEAR_FILTER_BOOKS:\n      return { ...state, filteredCatalog: null };\n    default:\n      return state;\n  }\n}\n","import { CLEAR_CART, PUSH_PRODUCT_TO_CART } from '../types/cartTypes';\n\nconst initialState = [];\n\nexport default function userReducer(state = initialState, action) {\n  switch (action.type) {\n    case PUSH_PRODUCT_TO_CART:\n      return [ ...state, { ...action.payload, key: state.length } ];\n    case CLEAR_CART:\n      return [];\n    default:\n      return state;\n  }\n}\n","import { PURCHASE_SUCCESS, PURCHASE_ERROR, CLEAR_PURCHASE_ERROR, PURCHASE_SENDING, CLEAR_PURCHASE } from '../types/purchaseTypes';\n\nconst initialState = {\n  isSending: false,\n  isSuccess: false,\n  error: null,\n};\n\nexport default function userReducer(state = initialState, action) {\n  switch (action.type) {\n    case PURCHASE_SENDING:\n      return { ...state, isSending: true };\n    case PURCHASE_SUCCESS:\n      return { ...state, isSuccess: true, isSending: false };\n    case PURCHASE_ERROR:\n      return { ...state, error: action.payload, isSending: false };\n    case CLEAR_PURCHASE_ERROR:\n      return { ...state, error: null };\n    case CLEAR_PURCHASE:\n      return { ...initialState };\n    default:\n      return state;\n  }\n}\n","import { OPEN_MODAL, CLOSE_MODAL } from '../types/modalTypes';\n\nconst initialState = {\n  message: null,\n  title: null,\n  onClose: null,\n};\n\nexport default function userReducer(state = initialState, action) {\n  switch (action.type) {\n    case OPEN_MODAL:\n      return { ...action.payload };\n    case CLOSE_MODAL:\n      return { ...initialState };\n    default:\n      return state;\n  }\n}\n","import { combineReducers } from 'redux';\nimport userReducer from './userReducer';\nimport booksReducer from './booksReducer';\nimport cartReducer from './cartReducer';\nimport purchaseReducer from './purchaseReducer';\nimport modalReducer from './modalReducer';\n\nconst rootReducer = combineReducers({\n  user: userReducer,\n  books: booksReducer,\n  cart: cartReducer,\n  purchase: purchaseReducer,\n  modal: modalReducer,\n});\n\nexport default rootReducer;\n","import { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from './reducers';\n\nconst store = createStore(rootReducer, applyMiddleware(thunk));\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './scss/index.scss';\nimport { Provider } from 'react-redux';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport store from './store';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\nreportWebVitals();\n"],"sourceRoot":""}